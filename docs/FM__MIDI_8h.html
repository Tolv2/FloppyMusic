<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FloppyMusic library: src/FM_MIDI.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FloppyMusic library<span id="projectnumber">&#160;v0.1</span>
   </div>
   <div id="projectbrief">A simple library to control Floppy Disk Drives in a way that plays music</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('FM__MIDI_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">FM_MIDI.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="FM__MIDI_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a000f500fc39a763f5332bbcfd5f2063f" id="r_a000f500fc39a763f5332bbcfd5f2063f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a000f500fc39a763f5332bbcfd5f2063f">FM_MIDI_MessageStatus</a>(x)</td></tr>
<tr class="memdesc:a000f500fc39a763f5332bbcfd5f2063f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A macro that reads the Status field of a MIDI message. This contains data about whether the message is a NoteOn or NoteOff, as well as the channel it's on.  <br /></td></tr>
<tr class="separator:a000f500fc39a763f5332bbcfd5f2063f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96ef513dc143c32cf22a56c47321d5e4" id="r_a96ef513dc143c32cf22a56c47321d5e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96ef513dc143c32cf22a56c47321d5e4">FM_MIDI_MessageData1</a>(x)</td></tr>
<tr class="memdesc:a96ef513dc143c32cf22a56c47321d5e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">A macro that reads the Data 1 field of a MIDI message. This is usually simply the encoded note.  <br /></td></tr>
<tr class="separator:a96ef513dc143c32cf22a56c47321d5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62a1470184e9ceaaf6e224325d573b1a" id="r_a62a1470184e9ceaaf6e224325d573b1a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a62a1470184e9ceaaf6e224325d573b1a">FM_MIDI_MessageData2</a>(x)</td></tr>
<tr class="memdesc:a62a1470184e9ceaaf6e224325d573b1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A macro that reads the Data 2 field of a MIDI message. This is usually the velocity field.  <br /></td></tr>
<tr class="separator:a62a1470184e9ceaaf6e224325d573b1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5aa99dd3a666c4ccb78a699677fe30" id="r_aba5aa99dd3a666c4ccb78a699677fe30"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba5aa99dd3a666c4ccb78a699677fe30">FM_MIDI_MessageChannel</a>(x)</td></tr>
<tr class="memdesc:aba5aa99dd3a666c4ccb78a699677fe30"><td class="mdescLeft">&#160;</td><td class="mdescRight">A macro that reads the channel field of a MIDI status message.  <br /></td></tr>
<tr class="separator:aba5aa99dd3a666c4ccb78a699677fe30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6832a0b59d8aa28d6fb9f85326a2283" id="r_af6832a0b59d8aa28d6fb9f85326a2283"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6832a0b59d8aa28d6fb9f85326a2283">FM_MIDI_MessageIsNoteOn</a>(x)</td></tr>
<tr class="memdesc:af6832a0b59d8aa28d6fb9f85326a2283"><td class="mdescLeft">&#160;</td><td class="mdescRight">A macro that determines whether a MIDI message is a NoteOn message.  <br /></td></tr>
<tr class="separator:af6832a0b59d8aa28d6fb9f85326a2283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6db2bd63dc6364de91048e2e16711ef7" id="r_a6db2bd63dc6364de91048e2e16711ef7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6db2bd63dc6364de91048e2e16711ef7">FM_MIDI_MessageIsNoteOff</a>(x)</td></tr>
<tr class="memdesc:a6db2bd63dc6364de91048e2e16711ef7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A macro that determines whether a MIDI message is a NoteOff message.  <br /></td></tr>
<tr class="separator:a6db2bd63dc6364de91048e2e16711ef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad16e6c5127cc513bee2c977786254295" id="r_ad16e6c5127cc513bee2c977786254295"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad16e6c5127cc513bee2c977786254295">FM_MIDI_message_t</a></td></tr>
<tr class="separator:ad16e6c5127cc513bee2c977786254295"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a074b649c24ed2bd501b3a7559bd2d25d" id="r_a074b649c24ed2bd501b3a7559bd2d25d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a074b649c24ed2bd501b3a7559bd2d25d">FM_MIDI_HandleMessage</a> (<a class="el" href="#ad16e6c5127cc513bee2c977786254295">FM_MIDI_message_t</a> message)</td></tr>
<tr class="memdesc:a074b649c24ed2bd501b3a7559bd2d25d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a MIDI message in MIDI managment mode.  <br /></td></tr>
<tr class="separator:a074b649c24ed2bd501b3a7559bd2d25d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a48e87ee2f787cb801d05c3096ad80567" id="r_a48e87ee2f787cb801d05c3096ad80567"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48e87ee2f787cb801d05c3096ad80567">FM_MIDI_NoteMap</a> [128]</td></tr>
<tr class="memdesc:a48e87ee2f787cb801d05c3096ad80567"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used internally, but safe to be used externally.  <br /></td></tr>
<tr class="separator:a48e87ee2f787cb801d05c3096ad80567"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aba5aa99dd3a666c4ccb78a699677fe30" name="aba5aa99dd3a666c4ccb78a699677fe30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba5aa99dd3a666c4ccb78a699677fe30">&#9670;&#160;</a></span>FM_MIDI_MessageChannel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FM_MIDI_MessageChannel</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((x) &amp; 0xF)</div>
</div><!-- fragment -->
<p>A macro that reads the channel field of a MIDI status message. </p>

</div>
</div>
<a id="a96ef513dc143c32cf22a56c47321d5e4" name="a96ef513dc143c32cf22a56c47321d5e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96ef513dc143c32cf22a56c47321d5e4">&#9670;&#160;</a></span>FM_MIDI_MessageData1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FM_MIDI_MessageData1</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((x &gt;&gt; 8) &amp; 0xFF)</div>
</div><!-- fragment -->
<p>A macro that reads the Data 1 field of a MIDI message. This is usually simply the encoded note. </p>

</div>
</div>
<a id="a62a1470184e9ceaaf6e224325d573b1a" name="a62a1470184e9ceaaf6e224325d573b1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62a1470184e9ceaaf6e224325d573b1a">&#9670;&#160;</a></span>FM_MIDI_MessageData2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FM_MIDI_MessageData2</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((x &gt;&gt; 16) &amp; 0xFF)</div>
</div><!-- fragment -->
<p>A macro that reads the Data 2 field of a MIDI message. This is usually the velocity field. </p>

</div>
</div>
<a id="a6db2bd63dc6364de91048e2e16711ef7" name="a6db2bd63dc6364de91048e2e16711ef7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6db2bd63dc6364de91048e2e16711ef7">&#9670;&#160;</a></span>FM_MIDI_MessageIsNoteOff</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FM_MIDI_MessageIsNoteOff</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(<a class="code hl_define" href="#a000f500fc39a763f5332bbcfd5f2063f">FM_MIDI_MessageStatus</a>(x) &amp; 0xF0) == 0x80</div>
<div class="ttc" id="aFM__MIDI_8h_html_a000f500fc39a763f5332bbcfd5f2063f"><div class="ttname"><a href="#a000f500fc39a763f5332bbcfd5f2063f">FM_MIDI_MessageStatus</a></div><div class="ttdeci">#define FM_MIDI_MessageStatus(x)</div><div class="ttdoc">A macro that reads the Status field of a MIDI message. This contains data about whether the message i...</div><div class="ttdef"><b>Definition</b> FM_MIDI.h:8</div></div>
</div><!-- fragment -->
<p>A macro that determines whether a MIDI message is a NoteOff message. </p>

</div>
</div>
<a id="af6832a0b59d8aa28d6fb9f85326a2283" name="af6832a0b59d8aa28d6fb9f85326a2283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6832a0b59d8aa28d6fb9f85326a2283">&#9670;&#160;</a></span>FM_MIDI_MessageIsNoteOn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FM_MIDI_MessageIsNoteOn</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(<a class="code hl_define" href="#a000f500fc39a763f5332bbcfd5f2063f">FM_MIDI_MessageStatus</a>(x) &amp; 0xF0) == 0x90</div>
</div><!-- fragment -->
<p>A macro that determines whether a MIDI message is a NoteOn message. </p>

</div>
</div>
<a id="a000f500fc39a763f5332bbcfd5f2063f" name="a000f500fc39a763f5332bbcfd5f2063f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a000f500fc39a763f5332bbcfd5f2063f">&#9670;&#160;</a></span>FM_MIDI_MessageStatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FM_MIDI_MessageStatus</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((x) &amp; 0xFF)</div>
</div><!-- fragment -->
<p>A macro that reads the Status field of a MIDI message. This contains data about whether the message is a NoteOn or NoteOff, as well as the channel it's on. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ad16e6c5127cc513bee2c977786254295" name="ad16e6c5127cc513bee2c977786254295"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad16e6c5127cc513bee2c977786254295">&#9670;&#160;</a></span>FM_MIDI_message_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="#ad16e6c5127cc513bee2c977786254295">FM_MIDI_message_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a074b649c24ed2bd501b3a7559bd2d25d" name="a074b649c24ed2bd501b3a7559bd2d25d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a074b649c24ed2bd501b3a7559bd2d25d">&#9670;&#160;</a></span>FM_MIDI_HandleMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FM_MIDI_HandleMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ad16e6c5127cc513bee2c977786254295">FM_MIDI_message_t</a></td>          <td class="paramname"><span class="paramname"><em>message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle a MIDI message in MIDI managment mode. </p>
<p>MIDI managment means that, when a note message is recieved, it will always play on the floppy with the same index as the MIDI channel it came from. This limits you to 16 floppies per instance of the program, but probably sounds much better musically unless you have identical (or similar enough) floppies.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>the message to handle. Intepreted as a 32 bit word. Most likely safe to cast raw messages from other libraries (e. g. PortMidi). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a48e87ee2f787cb801d05c3096ad80567" name="a48e87ee2f787cb801d05c3096ad80567"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48e87ee2f787cb801d05c3096ad80567">&#9670;&#160;</a></span>FM_MIDI_NoteMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int FM_MIDI_NoteMap[128]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used internally, but safe to be used externally. </p>
<p>A constant read-only hard-coded array that contains the periods of notes in nanoseconds at the corresponding index. For example, to get the period of MIDI note 50, use FM_MIDI_NoteMap[50] </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="FM__MIDI_8h.html">FM_MIDI.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
